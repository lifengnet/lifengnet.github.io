webpackJsonp([6],{442:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),l=a.n(n),r=a(453),i=(a.n(r),a(458)),o=a.n(i),s=a(462),c=(a.n(s),a(463)),u=a.n(c),p=a(474),m=(a.n(p),a(475)),_=a.n(m),d=a(108),f=a.n(d),g=a(103),h=a.n(g),b=a(106),y=a.n(b),v=a(104),E=a.n(v),w=a(105),k=a.n(w),x=a(460),O=(a.n(x),a(461)),C=a.n(O),j=a(479),T=(a.n(j),a(480)),S=a.n(T),I=a(5),L=a.n(I),V=a(179),B=(a.n(V),a(6)),F=a(841),D=a(568),M=a(493),q=S.a.Item,z=u.a.Option,A=(C.a.TabPane,_.a.TreeNode),P=function(e){function t(e){h()(this,t);var a=E()(this,(t.__proto__||f()(t)).call(this,e));return a.state={freightTemplateList:[],selfCategoryList:[],values:{}},a}return k()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this;Object(F.a)(function(t){e.setState({selfCategoryList:t})}),Object(B.a)({cmd:"alibaba.open.delivery.template.list",param:{},method:"get",success:function(t){e.setState({freightTemplateList:t.alibaba_open_delivery_template_list_response.template_list.struct})},error:function(e){}})}},{key:"getFormItems",value:function(){var e=this,t=function e(t){return null!=t&&t.map?t.map(function(t){return t.childrens&&t.childrens.struct?L.a.createElement(A,{key:t.id,title:t.name,value:t.id},e(t.childrens.struct)):L.a.createElement(A,{key:t.id,title:t.name,value:t.id})}):null};return{formItems:[{label:"\u5b9d\u8d1d\u81ea\u5b9a\u4e49\u5206\u7c7b",labelCol:{span:4},wrapperCol:{span:8},custom:function(a,n){return L.a.createElement(q,null,a("query_selfCategory",{})(L.a.createElement(_.a,{dropdownStyle:{maxHeight:300,overflow:"auto"},placeholder:"\u8bf7\u9009\u62e9"},t(e.state.selfCategoryList))))}},{label:"\u8fd0\u8d39\u6a21\u677f",labelCol:{span:4},wrapperCol:{span:8},name:"freightTemplate",select:{optionValue:e.state.freightTemplateList.map(function(e){return{title:e.template_name,value:e.template_id}}),placeholder:"\u8bf7\u9009\u62e9",style:{width:200}}},{label:"\u6807\u9898\u4f18\u5316",labelCol:{span:4},wrapperCol:{span:8},custom:function(e,t){return L.a.createElement("div",null,L.a.createElement("div",null,L.a.createElement("span",null,"\u3010\u66ff\u6362\u5173\u952e\u5b57\u3011"),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_begin",{})(L.a.createElement(o.a,null))),L.a.createElement("span",null,">\u66ff\u6362\u6210>"),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_end",{})(L.a.createElement(o.a,null)))),L.a.createElement("br",null),L.a.createElement("div",null,L.a.createElement("span",null,"\u3010\u589e\u52a0\u524d\u540e\u7f00\u3011"),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_begin",{})(L.a.createElement(o.a,null))),L.a.createElement("span",null,"+\u539f\u6807\u9898+"),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_end",{})(L.a.createElement(o.a,null)))))}},{label:"\u4ef7\u683c\u8bbe\u7f6e",labelCol:{span:4},wrapperCol:{span:8},name:"jgsz",custom:function(e,t){return L.a.createElement("div",null,L.a.createElement("span",null,"\u539f\u4ef7\u683c"),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_begin",{initialValue:"add"})(L.a.createElement(u.a,{defaultValue:"add",style:{width:120}},L.a.createElement(z,{value:"add"},"\u52a0"),L.a.createElement(z,{value:"del"},"\u51cf"),L.a.createElement(z,{value:"chen"},"\u4e58"),L.a.createElement(z,{value:"chu"},"\u9664")))),L.a.createElement("span",{style:{margin:"0 10px"}}),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_end",{})(L.a.createElement(o.a,null))))}},{label:"\u5e93\u5b58\u4f18\u5316",labelCol:{span:4},wrapperCol:{span:8},custom:function(e,t){return L.a.createElement("div",null,L.a.createElement("span",null,"\u539f\u5e93\u5b58"),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_begin",{initialValue:"add"})(L.a.createElement(u.a,{defaultValue:"add",style:{width:120}},L.a.createElement(z,{value:"add"},"\u52a0"),L.a.createElement(z,{value:"del"},"\u51cf"),L.a.createElement(z,{value:"chen"},"\u4e58"),L.a.createElement(z,{value:"chu"},"\u9664")))),L.a.createElement("span",{style:{margin:"0 10px"}}),L.a.createElement(q,{style:{width:100,display:"inline-block",margin:"0 5px"}},e("entrust_time_end",{})(L.a.createElement(o.a,null))))}},{label:"\u5b9d\u8d1d\u94fe\u63a5",labelCol:{span:4},wrapperCol:{span:10},name:"links",input:{type:"textarea",rows:10,placeholder:"\u8bf7\u8f93\u51651688\u5b9d\u8d1d\u94fe\u63a5\uff0c\u591a\u4e2a\u5b9d\u8d1d\u8bf7\u7528Enter\u56de\u8f66\u952e\u9694\u5f00"}}],initValue:this.state.values}}},{key:"handleBack",value:function(){window.history.back()}},{key:"getButtonOptions",value:function(){var e=this;return{buttons:[{name:"\u4e00\u952e\u590d\u5236\u5230\u4ed3\u5e93",type:"primary",shouldCheck:!0,handle:function(t){e.doSubmit(t)}},{name:"\u91cd\u7f6e",handle:function(t){e.handleBack()}}]}}},{key:"doSubmit",value:function(e){for(var t=e.links.split("\n"),a=0;a<t.length;a++)if(-1!=t[a].indexOf("1688.com")){var n=/[0-9]+.html/,r=t[a].match(n)[0].replace(".html",""),i={};i.offer_id=parseInt(r),i.return_fields="sku_pics,is_price_auth_offer,post_categry_id,offer_id,offer_status,is_private,member_id,subject,details,quality_level,image_list,product_feature_list,is_offer_support_online_trade,trading_type,is_support_mix,amount,amount_on_sale,saled_count,retail_price,unit_price,price_ranges,term_offer_process,is_sku_offer,is_sku_trade_supported,sku_array,gmt_create,gmt_modified,gmt_last_repost,gmt_approved,gmt_expire",Object(B.a)({cmd:"alibaba.open.offer.get",param:i,method:"get",success:function(t){for(var a=t.alibaba_open_offer_get_response.offers.offer_detail_info[0],n={bizType:"1",categoryID:a.post_categry_id,supportOnlineTrade:!0,pictureAuthOffer:!1,priceAuthOffer:!1,mixWholeSale:!0,subject:a.subject,offerDetail:a.details,freightType:"F",freightTemplateId:e.freightTemplate,amountOnSale:a.amount_on_sale,offerWeight:.05},r=[],i=0;i<a.price_ranges.price_range_info.length;i++)-1!=a.price_ranges.price_range_info[i].range.indexOf("-")?r.push(a.price_ranges.price_range_info[i].range.split("-")[1]+":"+a.price_ranges.price_range_info[i].price):-1!=a.price_ranges.price_range_info[i].range.indexOf("\u2265")&&r.push(a.price_ranges.price_range_info[i].range.replace("\u2265","")+":"+a.price_ranges.price_range_info[i].price);n.priceRanges=r.join("`");for(var o=[],s=0;s<a.image_list.offer_image_info.length;s++)o.push(a.image_list.offer_image_info[s].original_image_uri);n.imageUriList=o;for(var c={},u=0;u<a.product_feature_list.product_feature_info.length;u++)c[a.product_feature_list.product_feature_info[u].fid]=a.product_feature_list.product_feature_info[u].value;n.productFeatures=c,Object(B.a)({cmd:"alibaba.open.offer.new",param:{offer:l()(n)},method:"post",success:function(e){M.a.show({width:350,footer:{readonly:!1,okText:"\u7ee7\u7eed\u590d\u5236",cancelText:"\u8fd4\u56de\u5b9d\u8d1d\u5217\u8868"},onOk:function(e){M.a.destory()},onCancel:function(){M.a.destory(),window.location.hash="/product-mgt"},content:L.a.createElement("div",{style:{"max-height":"500px",overflow:"auto"}},"\u590d\u5236\u6210\u529f")})},error:function(e){}})},error:function(e){}})}else-1!=t[a].indexOf("taobao.com")||t[a].indexOf("tmall.com")}},{key:"changeMenu",value:function(e){window.location.hash="/product-copy/"+e}},{key:"render",value:function(){return L.a.createElement("div",null,L.a.createElement(D.a,{items:this.getFormItems(),buttonOption:this.getButtonOptions(),onSubmit:this.doSubmit}))}}]),t}(I.Component),W=function(e){return{}},H=function(e){return{}};t.default=Object(V.connect)(W,H)(P)},841:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(6),l=function(e){Object(n.a)({cmd:"alibaba.open.category.getselfcatlist",param:{member_id:"b2b-"+n.c.get("seller_id")},method:"get",success:function(t){e(t.alibaba_open_category_getselfcatlist_response.result_objects.seller_cat_info[0].seller_cats.struct)},error:function(e){}})}}});